@{
    ViewBag.Title = "Meta";
}
@section include{
    <script type="text/javascript" src="../Scripts/Pages/Meta.js"></script>
}
<div class="container" data-bind="visible: notOnEdit">
    <div class="form-inline panel">
        <div class="form-group">
            <div class="input-group">
                <div class="input-group-addon">Filter</div>
                <input type="text" data-bind="value: filterLike" class="form-control" />
            </div>
        </div>
        <button class="btn btn-primary" data-bind="click: newMeta">New Meta</button>
    </div>
    <table class="table table-striped">
        <thead>
            <tr>
                <th style="cursor: pointer" data-bind="click: function(){ model.setSortMode('MetaId'); }">#</th>
                <th style="cursor: pointer" data-bind="click: function(){ model.setSortMode('MetaNameEs'); }">NameEs</th>
                <th style="cursor: pointer" data-bind="click: function(){ model.setSortMode('MetaNameEn'); }">NameEn</th>
                <th>Options</th>
                <th></th>
            </tr>
        </thead>
        <tbody data-bind="template: { foreach: Metas }">
            <tr>
                <td data-bind="text: MetaId"></td>
                <td data-bind="text: MetaNameEs"></td>
                <td data-bind="text: MetaNameEn"></td>
                <td>
                    <ul data-bind="template: { foreach: Options }" class="list-inline">
                        <li data-bind="html: domValue"></li>
                    </ul>
                </td>
                <td>
                    <button class="btn btn-success" data-bind="click: beginEdit" title="Edit">
                        <img src="../Content/Images/edit_w.png" />
                    </button>
                </td>
            </tr>
        </tbody>
        <tfoot>
            <tr>
                <td colspan="4">
                    <div class="content">
                        <div class="col-md-6 form-inline" data-bind='html: footerNavigation'>
                        </div>
                        <div class="col-md-6 form-inline">
                            <label class="pull-right">
                                Rows Per Page
                                <select class="form-control" data-bind="options: gridOptions.PageSizes, value: gridOptions.RowsPerPage"></select>
                            </label>
                        </div>
                    </div>
                </td>
            </tr>
        </tfoot>
    </table>
</div>
<div class="panel">
    <div data-bind="with: SelectedMeta" class="form-inline">
        <div class="form-group">
            <label>
                Name Es
                <input class="form-control" type="text" data-bind="value: MetaNameEs" />
            </label>
        </div>
        <div class="form-group">
            <label>
                Name En
                <input class="form-control" type="text" data-bind="value: MetaNameEn" />
            </label>
        </div><br/><br/>
        <fieldset>
            <legend>
                Options
                <button class="btn btn-primary btn-sm" data-bind="click: addOption" title="Add">
                    <img src="../Content/Images/add_w.png" />
                </button>
            </legend>
            <div style="max-height: 300px; overflow: auto">
                <ul data-bind="template: { foreach: Options}" class="panel-default">
                    <li>
                        <button class="btn btn-danger btn-sm" data-bind="click: deleteOption" title="Delete">
                            <img src='../Content/Images/close_w.png' />
                        </button>
                        <label>
                            Name Es
                            <input class="form-control" type="text" data-bind="value: MetaOptionNameEs" />
                        </label>
                        <label>
                            Name En
                            <input class="form-control" type="text" data-bind="value: MetaOptionNameEn" />
                        </label>
                        <label>
                            Value
                            <input class="form-control" type="text" data-bind="value: MetaOptionValue" />
                        </label>
                    </li>
                </ul>
            </div>
        </fieldset>
        <br />
        <div class="form-group pull-right">
            <button data-bind="click: saveEdit" class="btn btn-primary">Save</button>
            <button data-bind="click: cancelEdit" class="btn btn-info">Cancel</button>
        </div>
    </div>
</div>